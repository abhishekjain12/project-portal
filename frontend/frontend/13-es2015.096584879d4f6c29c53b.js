(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{HXqD:function(t,e,a){"use strict";a.d(e,"a",(function(){return c}));var i=a("tk/3"),n=a("aR35"),r=a("fXoL");let c=(()=>{class t{constructor(t){this.http=t}getCategories(){return this.http.get(n.a.PROJECT_CATEGORY_API)}getFilteredCategories(t){return this.http.get(n.a.PROJECT_CATEGORY_API,{params:(new i.f).set("q",JSON.stringify(t))})}addCategory(t){return this.http.post(n.a.PROJECT_CATEGORY_API,t)}updateCategory(t){return this.http.put(n.a.PROJECT_CATEGORY_API+"/"+t.id,t)}toggleStatusCategory(t,e){return this.http.patch(n.a.PROJECT_CATEGORY_API+"/"+t,e)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(i.b))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},uWry:function(t,e,a){"use strict";a.r(e),a.d(e,"CategoryModule",(function(){return at}));var i=a("ofXK"),n=a("tyNb"),r=a("M9IT"),c=a("Dh3D"),o=a("quSY"),s=a("+0xr"),b=a("OFCM"),l=a("A9ix"),d=a("Fl7d"),u=a("0IaG"),m=a("fXoL"),g=a("HXqD"),p=a("h/T5"),C=a("aSTP"),h=a("3Pt+"),f=a("kmnG"),y=a("qFsG"),T=a("XiUz"),D=a("bTqV");function U(t,e){1&t&&(m.Ub(0,"small",12),m.Dc(1,"Name is required."),m.Tb())}function S(t,e){if(1&t&&(m.Ub(0,"mat-error"),m.Cc(1,U,2,0,"small",11),m.Tb()),2&t){m.gc();const t=m.tc(9);m.Cb(1),m.nc("ngIf",null==t?null:t.errors.required)}}function v(t,e){1&t&&(m.Ub(0,"small",12),m.Dc(1,"Description is required."),m.Tb())}function w(t,e){if(1&t&&(m.Ub(0,"mat-error"),m.Cc(1,v,2,0,"small",11),m.Tb()),2&t){m.gc();const t=m.tc(14);m.Cb(1),m.nc("ngIf",null==t?null:t.errors.required)}}let R=(()=>{class t{constructor(t,e,a,i){this.dialogRef=t,this.data=e,this.categoryService=a,this.alertService=i,this.subscription=new o.a,this.category=new l.a,this.isEdit=!1,this.isDisableBtn=!1}ngOnInit(){this.data?(this.category=this.data,this.isEdit=!0):this.isEdit=!1}saveCategory(){this.isDisableBtn=!0,this.data?this.editCategory():this.addCategory()}addCategory(){this.subscription.add(this.categoryService.addCategory(this.category).subscribe(()=>{this.closeModal(!0),this.isDisableBtn=!1},t=>{this.alertService.error(t.error.message),this.isDisableBtn=!1}))}editCategory(){this.subscription.add(this.categoryService.updateCategory(this.category).subscribe(()=>{this.closeModal(),this.isDisableBtn=!1},t=>{this.alertService.error(t.error.message),this.isDisableBtn=!1}))}closeModal(t=!1){this.dialogRef.close(t)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(m.Ob(u.f),m.Ob(u.a),m.Ob(g.a),m.Ob(p.a))},t.\u0275cmp=m.Ib({type:t,selectors:[["app-save-category-modal"]],decls:22,vars:7,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["categoryForm","ngForm"],["type","text","matInput","","placeholder","Name","name","name","required","",3,"ngModel","ngModelChange"],["name","ngModel"],[4,"ngIf"],["matInput","","placeholder","Description","name","description","required","",3,"ngModel","ngModelChange"],["description","ngModel"],["mat-dialog-actions","","fxLayoutAlign","end"],["mat-flat-button","",3,"click"],["color","primary","mat-raised-button","",3,"ngClass","disabled","click"],["class","mat-text-warn",4,"ngIf"],[1,"mat-text-warn"]],template:function(t,e){if(1&t&&(m.Ub(0,"h1",0),m.Dc(1),m.Tb(),m.Ub(2,"div",1),m.Pb(3,"app-alert"),m.Ub(4,"form",null,2),m.Ub(6,"mat-form-field"),m.Ub(7,"label"),m.Ub(8,"input",3,4),m.cc("ngModelChange",(function(t){return e.category.name=t})),m.Tb(),m.Tb(),m.Cc(10,S,2,1,"mat-error",5),m.Tb(),m.Ub(11,"mat-form-field"),m.Ub(12,"label"),m.Ub(13,"textarea",6,7),m.cc("ngModelChange",(function(t){return e.category.description=t})),m.Dc(15,"        "),m.Tb(),m.Tb(),m.Cc(16,w,2,1,"mat-error",5),m.Tb(),m.Tb(),m.Tb(),m.Ub(17,"div",8),m.Ub(18,"button",9),m.cc("click",(function(){return e.closeModal()})),m.Dc(19,"Cancel"),m.Tb(),m.Ub(20,"button",10),m.cc("click",(function(){return e.saveCategory()})),m.Dc(21," Submit "),m.Tb(),m.Tb()),2&t){const t=m.tc(5),a=m.tc(9),i=m.tc(14);m.Cb(1),m.Fc("",e.isEdit?"Edit ":"Add New "," Category"),m.Cb(7),m.nc("ngModel",e.category.name),m.Cb(2),m.nc("ngIf",a.touched&&a.invalid),m.Cb(3),m.nc("ngModel",e.category.description),m.Cb(3),m.nc("ngIf",i.touched&&i.invalid),m.Cb(4),m.nc("ngClass",t.form.invalid?"cursor-not-allowed":"cursor-pointer")("disabled",t.form.invalid||e.isDisableBtn)}},directives:[u.g,u.d,C.a,h.r,h.l,h.m,f.c,y.b,h.b,h.p,h.k,h.n,i.l,u.c,T.b,D.b,i.j,f.b],styles:[""]}),t})();var O=a("TnV5"),I=a("aR35"),A=a("g0ew"),P=a("dNgK"),E=a("Wp6s"),M=a("f0Cb"),k=a("gX+F"),F=a("1jcm"),_=a("STbY"),L=a("NFeN");function q(t,e){1&t&&(m.Ub(0,"div",16),m.Pb(1,"app-spinner"),m.Tb())}function J(t,e){1&t&&(m.Ub(0,"th",17),m.Dc(1,"ID"),m.Tb())}function N(t,e){if(1&t&&(m.Ub(0,"td",18),m.Dc(1),m.Tb()),2&t){const t=e.$implicit;m.Cb(1),m.Fc(" ",t.id," ")}}function Y(t,e){1&t&&(m.Ub(0,"th",17),m.Dc(1,"Name"),m.Tb())}function G(t,e){if(1&t&&(m.Ub(0,"td",18),m.Dc(1),m.Tb()),2&t){const t=e.$implicit;m.Cb(1),m.Fc(" ",t.name," ")}}function j(t,e){1&t&&(m.Ub(0,"th",17),m.Dc(1,"Description"),m.Tb())}function x(t,e){if(1&t&&(m.Ub(0,"td",18),m.Dc(1),m.Tb()),2&t){const t=e.$implicit;m.Cb(1),m.Fc(" ",t.description," ")}}function B(t,e){1&t&&(m.Ub(0,"th",17),m.Dc(1,"Active"),m.Tb())}function z(t,e){if(1&t){const t=m.Vb();m.Ub(0,"td",18),m.Ub(1,"mat-slide-toggle",19),m.cc("toggleChange",(function(){m.vc(t);const a=e.$implicit;return m.gc().toggleStatusCategory(a)})),m.Tb(),m.Tb()}if(2&t){const t=e.$implicit;m.Cb(1),m.nc("checked",t.status)}}function H(t,e){1&t&&(m.Ub(0,"th",17),m.Dc(1,"Action"),m.Tb())}const X=function(t){return[t]};function $(t,e){if(1&t){const t=m.Vb();m.Ub(0,"td",18),m.Ub(1,"button",20),m.Ub(2,"mat-icon"),m.Dc(3,"more_vert"),m.Tb(),m.Tb(),m.Ub(4,"mat-menu",null,21),m.Ub(6,"button",22),m.cc("click",(function(){m.vc(t);const a=e.$implicit;return m.gc().openAddCategoryModal(a)})),m.Ub(7,"mat-icon"),m.Dc(8,"edit"),m.Tb(),m.Ub(9,"span"),m.Dc(10,"Edit details"),m.Tb(),m.Tb(),m.Ub(11,"a",23),m.Ub(12,"mat-icon"),m.Dc(13,"assignment"),m.Tb(),m.Ub(14,"span"),m.Dc(15,"View Projects"),m.Tb(),m.Tb(),m.Tb(),m.Tb()}if(2&t){const t=e.$implicit,a=m.tc(5),i=m.gc();m.Cb(1),m.nc("matMenuTriggerFor",a),m.Cb(10),m.nc("routerLink",m.pc(3,X,i.PROJECT_URL))("queryParams",i.getProjectURLForEmail(t.id))}}function V(t,e){1&t&&m.Pb(0,"tr",24)}function K(t,e){1&t&&m.Pb(0,"tr",25)}const Q=[{path:"",component:(()=>{class t{constructor(t,e,a,i){this.categoryService=t,this.spinnerService=e,this.dialog=a,this.snackBar=i,this.subscription=new o.a,this.displayedColumns=l.b,this.pageSize=b.a.PAGE_SIZE_LIST,this.PROJECT_URL=I.a.PROJECT}ngOnInit(){this.getCategories()}applyFilter(t){this.dataSource.filter=t.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}getCategories(){this.spinnerService.show(),this.subscription.add(this.categoryService.getCategories().subscribe(t=>{this.dataSource=new s.k(t.objects),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.spinnerService.hide()}))}openAddCategoryModal(t=null){this.dialog.open(R,{width:b.a.MODAL_WIDTH,data:t}).afterClosed().subscribe(t=>{t&&this.getCategories()})}toggleStatusCategory(t){this.subscription.add(this.categoryService.toggleStatusCategory(t.id,new d.b(!t.status)).subscribe(()=>{this.snackBar.open(b.b.STATUS_CHANGED_SUCCESSFULLY),this.getCategories()},()=>{this.getCategories()}))}getProjectURLForEmail(t){return{q:JSON.stringify(new O.a(b.a.CATEGORY,b.a.ANY,new O.a(b.a.ID,b.a.EQ,t)))}}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(m.Ob(g.a),m.Ob(A.a),m.Ob(u.b),m.Ob(P.b))},t.\u0275cmp=m.Ib({type:t,selectors:[["app-category"]],viewQuery:function(t,e){var a;1&t&&(m.Ic(r.a,!0),m.Ic(c.a,!0)),2&t&&(m.sc(a=m.dc())&&(e.paginator=a.first),m.sc(a=m.dc())&&(e.sort=a.first))},decls:32,vars:13,consts:[[1,"mat-elevation-z1","m-auto","w-90","mt-2","p-2"],["fxLayout","row","fxLayoutAlign","space-between center",1,"mb-1"],[1,"m-auto"],["color","primary","mat-stroked-button","",3,"click"],[1,"mt-1"],["matInput","","placeholder","Filter",3,"keyup"],[1,"pos-relative","overflow-auto"],["class","table-spinner",4,"ngIf"],["mat-table","","matSort","","matSortDirection","asc",1,"mt-1","overflow-auto",3,"dataSource","matSortActive"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["stickyEnd","",3,"matColumnDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions"],[1,"table-spinner"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["color","primary",3,"checked","toggleChange"],["mat-icon-button","","aria-label","action menu",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"routerLink","queryParams"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(m.Ub(0,"mat-card",0),m.Ub(1,"mat-card-header",1),m.Ub(2,"mat-card-title",2),m.Dc(3,"Project Category"),m.Tb(),m.Ub(4,"button",3),m.cc("click",(function(){return e.openAddCategoryModal()})),m.Dc(5,"Add Category"),m.Tb(),m.Tb(),m.Pb(6,"mat-divider"),m.Ub(7,"mat-form-field",4),m.Ub(8,"label"),m.Ub(9,"input",5),m.cc("keyup",(function(t){return e.applyFilter(t.target.value)})),m.Tb(),m.Tb(),m.Tb(),m.Ub(10,"div",6),m.Cc(11,q,2,0,"div",7),m.hc(12,"async"),m.Ub(13,"table",8),m.Sb(14,9),m.Cc(15,J,2,0,"th",10),m.Cc(16,N,2,1,"td",11),m.Rb(),m.Sb(17,9),m.Cc(18,Y,2,0,"th",10),m.Cc(19,G,2,1,"td",11),m.Rb(),m.Sb(20,9),m.Cc(21,j,2,0,"th",10),m.Cc(22,x,2,1,"td",11),m.Rb(),m.Sb(23,9),m.Cc(24,B,2,0,"th",10),m.Cc(25,z,2,1,"td",11),m.Rb(),m.Sb(26,12),m.Cc(27,H,2,0,"th",10),m.Cc(28,$,16,5,"td",11),m.Rb(),m.Cc(29,V,1,0,"tr",13),m.Cc(30,K,1,0,"tr",14),m.Tb(),m.Pb(31,"mat-paginator",15),m.Tb(),m.Tb()),2&t&&(m.Cb(11),m.nc("ngIf",m.ic(12,11,e.spinnerService.visibility)),m.Cb(2),m.nc("dataSource",e.dataSource)("matSortActive",e.displayedColumns[1]),m.Cb(1),m.nc("matColumnDef",e.displayedColumns[0]),m.Cb(3),m.nc("matColumnDef",e.displayedColumns[1]),m.Cb(3),m.nc("matColumnDef",e.displayedColumns[2]),m.Cb(3),m.nc("matColumnDef",e.displayedColumns[3]),m.Cb(3),m.nc("matColumnDef",e.displayedColumns[4]),m.Cb(3),m.nc("matHeaderRowDef",e.displayedColumns),m.Cb(1),m.nc("matRowDefColumns",e.displayedColumns),m.Cb(1),m.nc("pageSizeOptions",e.pageSize))},directives:[E.a,E.d,T.c,T.b,E.g,D.b,M.a,f.c,y.b,i.l,s.j,c.a,s.c,s.e,s.b,s.g,s.i,r.a,k.a,s.d,c.b,s.a,F.a,_.c,L.a,_.d,_.a,n.f,s.f,s.h],pipes:[i.b],styles:[""]}),t})()}];var W=a("+Y8+"),Z=a("A5z7"),tt=a("Qu3c"),et=a("5MR1");let at=(()=>{class t{}return t.\u0275mod=m.Mb({type:t}),t.\u0275inj=m.Lb({factory:function(e){return new(e||t)},providers:[g.a],imports:[[n.g.forChild(Q),i.c,E.e,M.b,f.e,W.a,s.l,c.c,y.c,D.c,T.d,Z.d,F.b,tt.b,r.b,L.b,et.a,u.e,h.g,_.b]]}),t})()}}]);